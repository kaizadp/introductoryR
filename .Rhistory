library(readxl)
data = read.csv("data/3soils_wsoc_pore.csv")
data_xlsx = read_excel("3soils_wsoc_pore.xlsx")
# you need the `readxl` package for .xlsx files
# first, load the package
library(readxl)
data_xlsx = read_excel("3soils_wsoc_pore.xlsx")
data_xlsx = read_excel("data/3soils_wsoc_pore.xlsx")
data_table = read.table("data/3soils_wsoc_pore.xlsx")
data_xlsx = read_excel("data/3soils_wsoc_pore.xlsx")
data_xlsx = read_excel("data/3soils_wsoc_pore.xlsx", sheet = "wsoc")
filePaths <- list.files(path = "data/wrc",pattern = "*.xlsx", full.names = TRUE)
parameters <- do.call(rbind, lapply(filePaths, function(path) {
df <- read_excel(path, sheet="Fitting-Parameter value")
df[["source"]] <- rep(path, nrow(df))
df}))
param <- do.call(rbind, lapply(filePaths, function(path) {
df <- read_excel(path, sheet="Fitting-Parameter value")
df[["source"]] <- rep(path, nrow(df))
df}))
filePaths <- list.files(path = "data/wrc",pattern = "*.xlsx", full.names = TRUE)
param <- do.call(rbind, lapply(filePaths, function(path) {
df <- read_excel(path, sheet="Fitting-Parameter value")
df[["source"]] <- rep(path, nrow(df))
df}))
filePaths <- list.files(path = "data/wrc",pattern = "*.xlsx", full.names = TRUE)
wrc <- do.call(rbind, lapply(filePaths, function(path) {
df <- read_excel(path, sheet="Fitting-Retention Î˜(pF)")
df[["source"]] <- rep(path, nrow(df))
df}))
parameters =
param
# step 1. importing files of different types ----
# you can import .csv files without any additional packages
data_csv = read.csv("data/3soils_wsoc_pore.csv")
# step 2. info about data ----
# list the column names
names(data_csv)
str(data_csv)
View(data_csv)
head(data_csv)
dim(data_csv)
# step 2. info about data ----
# list the column names
names(data_csv)
data_csv[1,]
data_csv[1,]
data_csv[,1]
# print all columns for the first row
data_csv[1,]
# print the info in a given cell using coordinates
data_csv[10,5]
# print the info in a given cell using coordinates
data_csv[10,6]
# step 2. info about data ----
# list the column names
names(data_csv)
data_csv[10,Site]
data_csv[10,"Site"]
data_csv[10,"Treatment"]
# print the info in a given cell using coordinates
# in this example, 10th row and 5th column
data_csv[10,6]
#
# step 3. processing and cleaning up ----
# remove the first column
data2 = data_csv[,-1]
View(data2)
# call all entries in the first three columns
data_csv[,1:3]
#
# step 3. processing and cleaning up ----
# make a subset of the first three columns
data_sub1 = data_csv[,1:3]
View(data_sub1)
#
# step 3. processing and cleaning up ----
# make a subset of the first three columns
data_sub1 = data_csv[,1:2]
# make a subset by removing the first two columns
data_sub2 = data_csv[,-1:2]
# make a subset by removing the first two columns
data_sub2 = data_csv[,-(1:2)]
View(data_sub2)
View(data_sub2)
names(data_sub2)
names(data_sub2)[names(data_sub2) == "Pore.Size.Domain"] <- "pore_size"
View(data_sub2)
# rename the offending columns in data_sub2
names(data_sub2)[names(data_sub2) == "Pore.Size.Domain"] = "pore_size"
names(data_sub2)[names(data_sub2) == "Water.Soluble.Organic.Carbon..mg.L."] = "wsoc_mg_L"
# change the format of the columns
data_csv$Site = as.factor(data_csv$Site)
data_csv$SampleID = as.character(data_csv$SampleID)
data_csv$`Water.Soluble.Organic.Carbon..mg.L.` = as.factor(data_csv$`Water.Soluble.Organic.Carbon..mg.L.`)
#
# step 4. export ----
write.csv(data_sub2, "processed/wsoc_processed.csv")
write_csv(data_sub2, "processed/wsoc_processed.csv")
?write_csv
??write_csv
#
# step 4. export ----
library(readr)
write_csv(data_sub2, "processed/wsoc_processed.csv")
write_csv(data_sub2, "processed/wsoc_processed.csv", append=TRUE)
write_csv(data_sub2, "processed/wsoc_processed.csv", append=TRUE)
write.csv(data_sub2, "processed/wsoc_processed.csv", append=TRUE)
write.csv(data_sub2, "processed/wsoc_processed.csv", na="")
#
# step 4. export ----
write.csv(data_sub2, "processed/wsoc_processed.csv", na="")
write.csv(data_sub2, "processed/wsoc_processed.csv", na="", row.names = FALSE)
print("SUCCESS!!!")
summary(data_sub2)
# first, import the file
processed = read.csv("processed/wsoc_processed.csv")
View(processed)
tzero = processed[processed$Treatment=="Time Zero Saturation",]
tzero_anova = anova(tzero, wsoc_mg_L ~ Site)
tzero_anova = anova(data = tzero, wsoc_mg_L ~ Site)
tzero_anova = aov(data = tzero, wsoc_mg_L ~ Site)
summary(tzero_anova)
print(tzero_anova)
## ANOVA: use function `aov`
tzero_aov1 = aov(data = tzero, wsoc_mg_L ~ Site)
# anova summary table, woth F and P values
summary(tzero_aov1)
print(tzero_aov1)
tzero_aov2 = aov(data = tzero, wsoc_mg_L ~ Site + Suction)
summary(tzero_aov2)
## 1c. two variables with interaction
tzero_aov3 = aov(data = tzero, wsoc_mg_L ~ Site + Suction + Site*Suction)
summary(tzero_aov3)
# or -- you can use `*`, which will analyze individual factors as well as their interaction
tzero_aov3 = aov(data = tzero, wsoc_mg_L ~ Site*Suction)
## 1c. two variables with interaction
# the `:` symbol is for interaction
tzero_aov3 = aov(data = tzero, wsoc_mg_L ~ Site + Suction + Site:Suction)
summary(tzero_aov3)
# or -- you can use `*`, which will analyze individual factors as well as their interaction
tzero_aov4 = aov(data = tzero, wsoc_mg_L ~ Site*Suction)
summary(tzero_aov4)
# 2. post-hoc TUKEY HSD test
# you do this after running ANOVA
# you use this for pairwise comparisons for multiple levels of a single variable
library(agricolae)
tzero_hsd = HSD.test(tzero_aov1,"Site")
tzero_hsd
print(tzero_hsd)
print(tzero_hsd$groups)
## ggplot is a popular package for graphs
library(ggplot2)
cpcrw = processed[processed$Site=="CPCRW",]
ggplot(cpcrw, aes(x = Treatment, y = wsoc_mg_L))+
geom_point()
# but this includes grouping of Suction
# assign separate colors to the Suctions
ggplot(cpcrw, aes(x = Treatment, y = wsoc_mg_L, color = Suction))+
geom_point()
# play around with shapes and sizes
ggplot(cpcrw,
aes(x = Treatment, y = wsoc_mg_L,
color = Suction,
shape = Suction,
size = Suction))+
geom_point()
